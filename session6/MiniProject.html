<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Quản Lý Thư Viện Tiếng Việt</title>
</head>
<body>
    <h1>Hệ Thống Quản Lý Kho Sách</h1>
    <script>
        // --- PHẦN A: BẢO MẬT ĐĂNG NHẬP ---
        let loginSuccess = false;
        let attempts = 0;

        while (attempts < 3) {
            let user = prompt("Nhập tài khoản (Lần thử " + (attempts + 1) + "/3):");
            let pass = prompt("Nhập mật khẩu:");

            if (user === "admin" && pass === "12345") {
                alert("Đăng nhập thành công! Chào mừng thủ thư.");
                loginSuccess = true;
                break;
            } else {
                attempts++;
                alert("Thông tin sai! Bạn còn " + (3 - attempts) + " lần thử.");
            }
        }

        if (loginSuccess === false) {
            console.log("Tài khoản đã bị khóa do nhập sai quá nhiều lần!");
        } else {
            // --- PHẦN B: HỆ THỐNG MENU ---
            let libraries = ["Toán", "Văn", "Tiếng Anh"];

            while (true) {
                let menu = "--- MENU THƯ VIỆN ---\n" +
                           "1. Nhập lô sách mới (cách nhau bằng dấu phẩy)\n" +
                           "2. Hiển thị danh sách sách hiện có\n" +
                           "3. Tìm kiếm vị trí sách\n" +
                           "4. Cập nhật (sửa) tên sách\n" +
                           "5. Đảo ngược thứ tự kệ sách\n" +
                           "6. Nhập kho từ chi nhánh khác\n" +
                           "7. Thoát chương trình\n" +
                           "Bạn chọn (1-7):";

                let choice = prompt(menu);

                if (choice === "7" || choice === null) {
                    console.log("Hệ thống đang đăng xuất... Hẹn gặp lại!");
                    break;
                }

                switch (choice) {
                    case "1":
                        let input = prompt("Nhập các tên sách mới (Ví dụ: Sử, Địa, Lý):");
                        if (input) {
                            let newBooks = input.split(","); 
                            for (let i = 0; i < newBooks.length; i++) {
                                libraries.push(newBooks[i].trim());
                            }
                            console.log("Thông báo: Đã thêm thành công " + newBooks.length + " cuốn sách mới.");
                        }
                        break;

                    case "2":
                        console.log("--- DANH SÁCH KHO SÁCH HIỆN TẠI ---");
                        for (let i = 0; i < libraries.length; i++) {
                            console.log((i + 1) + ". " + libraries[i]);
                        }
                        break;

                    case "3":
                        let searchName = prompt("Nhập chính xác tên sách muốn tìm:");
                        let foundIndex = -1;
                        for (let i = 0; i < libraries.length; i++) {
                            if (libraries[i] === searchName) {
                                foundIndex = i;
                                break;
                            }
                        }
                        if (foundIndex !== -1) {
                            console.log("Tìm thấy: Sách '" + searchName + "' nằm ở vị trí số " + foundIndex + " trong mảng.");
                        } else {
                            console.log("Rất tiếc, không tìm thấy sách '" + searchName + "' trong kho.");
                        }
                        break;

                    case "4":
                        let oldName = prompt("Nhập tên sách cũ cần sửa:");
                        let updateIndex = -1;
                        for (let i = 0; i < libraries.length; i++) {
                            if (libraries[i] === oldName) {
                                updateIndex = i;
                                break;
                            }
                        }
                        if (updateIndex !== -1) {
                            let newName = prompt("Nhập tên mới thay thế cho '" + oldName + "':");
                            libraries[updateIndex] = newName;
                            console.log("Cập nhật thành công! '" + oldName + "' đã đổi thành '" + newName + "'.");
                        } else {
                            console.log("Lỗi: Tên sách cũ không tồn tại trong hệ thống.");
                        }
                        break;

                    case "5":
                        libraries.reverse();
                        console.log("KỆ SÁCH ĐÃ ĐƯỢC ĐẢO NGƯỢC THỨ TỰ");
                        for (let i = 0; i < libraries.length; i++) {
                            console.log("Vị trí " + i + ": " + libraries[i]);
                        }
                        break;

                    case "6":
                        let otherBranch = ["Sách Kỹ Năng", "Truyện Tranh"];
                        libraries = libraries.concat(otherBranch);
                        console.log("Thông báo: Đã gộp kho sách từ chi nhánh khác thành công.");
                        break;

                    default:
                        alert("Lựa chọn không hợp lệ! Vui lòng nhập từ 1 đến 7.");
                        break;
                }
            }
        }
    </script>
</body>
</html>